<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="forms" ng-controller="FormController">

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" sizes="any" href="data:;base64,iVBORw0KGgo=">
		<title dg-view-title></title>
		<script type="text/javascript" src="view.js"></script>
		<script type="text/javascript" src="/services/js/resources-core/services/loader.js?id=ide-view-js"></script>
		<link type="text/css" rel="stylesheet" href="/services/js/resources-core/services/loader.js?id=ide-view-css" />
		<theme></theme>
		<script type="text/javascript" src="controller.js"></script>
	</head>

	<body class="dg-vbox">
		<fd-fieldset class="fd-margin--tiny" ng-form="forms.form">

			<h5 fd-title header-size="4">Convert Lead to Opportunity</h5>
			<fd-form-item horizontal="false">
				<fd-form-label dg-colon="true" dg-required="true" for="amount">Amount</fd-form-label>
				<fd-step-input dg-id="amount" name="amount" ng-model="model.amount" dg-required="true" dg-min="0.0"
					dg-max="1.0E11" dg-step="1.0" state="{{ !forms.form['amount'].$valid ? 'error' : '' }}" compact="true">
				</fd-step-input>
			</fd-form-item>
			<fd-form-item horizontal="false">
				<fd-form-label dg-colon="true" dg-required="true" for="currency">Currency</fd-form-label>
				<fd-select dg-id="currency" name="currency" label-id="currency" compact="false" ng-required="true" ng-model="model.currency">
					<fd-option text="{{ option.Code }}" value="option.Id" ng-repeat="option in dropdownData.Currencies track by $index"></fd-option>
				</fd-select>
			</fd-form-item>
			<fd-form-item horizontal="false">
				<fd-form-label dg-colon="true" dg-required="false" for="type">Type</fd-form-label>
				<fd-select dg-id="type" name="type" label-id="type" compact="false" ng-required="false" ng-model="model.type">
					<fd-option text="{{ option.Name }}" value="option.Id" ng-repeat="option in dropdownData.OpportunityTypes track by $index"></fd-option>
				</fd-select>
			</fd-form-item>
			<fd-form-item horizontal="false">
				<fd-form-label dg-colon="true" dg-required="false" for="priority">Priority</fd-form-label>
				<fd-select dg-id="priority" name="priority" label-id="priority" compact="false" ng-required="false" ng-model="model.priority">
					<fd-option text="{{ option.Name }}" value="option.Id" ng-repeat="option in dropdownData.OpportunityPriorities track by $index"></fd-option>
				</fd-select>
			</fd-form-item>
			<fd-form-item horizontal="false">
				<fd-form-label dg-colon="true" dg-required="false" for="propability">Propability</fd-form-label>
				<fd-select dg-id="propability" name="propability" label-id="propability" compact="false" ng-required="false" ng-model="model.probability">
					<fd-option text="{{ option.Name }}" value="option.Id" ng-repeat="option in dropdownData.OpportunityProbabilities track by $index"></fd-option>
				</fd-select>
			</fd-form-item>
<div class=" dg-hbox dg-box--gap dg-box--stretch-items">
			<div>
				<fd-button class="dg-full-width" type="submit" dg-label="Convert" compact="false" dg-type="positive" ng-click="convertOpportunity()"></fd-button>
			</div>
			<div>
				<fd-button class="dg-full-width"  dg-label="Cancel" compact="false" dg-type="negative" ng-click="closeDialog()"></fd-button>
			</div>
</div>

		</fd-fieldset>

	</body>

</html>
